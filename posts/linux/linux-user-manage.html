<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.66" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://rocyan98.github.io/posts/linux/linux-user-manage.html"><meta property="og:site_name" content="Roc Yan's Blog"><meta property="og:title" content="Linux 用户管理"><meta property="og:description" content="Linux 用户管理 一、用户相关文件 1.1 用户信息文件 /etc/passwd root:x:0:0:root:/root:/bin/bash 第一列：用户名 第二列：密码位（x表示有密码，具体密码在/etc/shadow） 第三列：用户ID 0超级用户UID。如果用户UID为0，代表这个账号是管理员账号。那Linux中如何把普通用户升级成为管理员呢？就是把其他用户的UID修改为0就可以了，不建议建立多个管理员账号。 1-499系统用户（伪用户）UID。这些UID账号是系统保留给系统用户的UID，也就是说UID是1-499范围内的用户是不能登录系统的，而是用来运行系统或服务的。其中1-99是系统保留的账号，系统自动创建。100-499 是预留给用户创建系统账号的。 500-60000普通用户UID。建立的普通用户UID从500开始，最大到60000。这些用户足够使用了，但是如果不够也不用害怕，2.6.x内核以后的Linux系统用户UID已经可以支持这么多了。 第四列：组ID GID 添加用户时，如果不指定用户所属的初始组，那么会建立和用户名相同的组 第五列：用户说明第六列：用户家目录 ~ 第七列：登录shell 用户的是/bin/bash 伪用户的是/sbin/nologin 表示无法登陆"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2023-08-15T06:06:59.000Z"><meta property="article:author" content="Roc Yan"><meta property="article:tag" content="Linux"><meta property="article:published_time" content="2023-08-03T00:00:00.000Z"><meta property="article:modified_time" content="2023-08-15T06:06:59.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Linux 用户管理","image":[""],"datePublished":"2023-08-03T00:00:00.000Z","dateModified":"2023-08-15T06:06:59.000Z","author":[{"@type":"Person","name":"Roc Yan","url":"https://rocyan98.github.io","email":"qpyan23@m.fudan.edu.cn"}]}</script><title>Linux 用户管理 | Roc Yan's Blog</title><meta name="description" content="Linux 用户管理 一、用户相关文件 1.1 用户信息文件 /etc/passwd root:x:0:0:root:/root:/bin/bash 第一列：用户名 第二列：密码位（x表示有密码，具体密码在/etc/shadow） 第三列：用户ID 0超级用户UID。如果用户UID为0，代表这个账号是管理员账号。那Linux中如何把普通用户升级成为管理员呢？就是把其他用户的UID修改为0就可以了，不建议建立多个管理员账号。 1-499系统用户（伪用户）UID。这些UID账号是系统保留给系统用户的UID，也就是说UID是1-499范围内的用户是不能登录系统的，而是用来运行系统或服务的。其中1-99是系统保留的账号，系统自动创建。100-499 是预留给用户创建系统账号的。 500-60000普通用户UID。建立的普通用户UID从500开始，最大到60000。这些用户足够使用了，但是如果不够也不用害怕，2.6.x内核以后的Linux系统用户UID已经可以支持这么多了。 第四列：组ID GID 添加用户时，如果不指定用户所属的初始组，那么会建立和用户名相同的组 第五列：用户说明第六列：用户家目录 ~ 第七列：登录shell 用户的是/bin/bash 伪用户的是/sbin/nologin 表示无法登陆">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-ad35e3f2.css" as="style"><link rel="stylesheet" href="/assets/style-ad35e3f2.css">
    <link rel="modulepreload" href="/assets/app-8309f210.js"><link rel="modulepreload" href="/assets/linux-user-manage.html-bb44aecd.js"><link rel="modulepreload" href="/assets/linux-user-manage.html-f9d2d90c.js"><link rel="prefetch" href="/assets/index.html-4f17c740.js" as="script"><link rel="prefetch" href="/assets/intro.html-3e33cd57.js" as="script"><link rel="prefetch" href="/assets/links.html-46725e5c.js" as="script"><link rel="prefetch" href="/assets/data-structure.html-0b1c1e99.js" as="script"><link rel="prefetch" href="/assets/junior-algorithm.html-4d6a6168.js" as="script"><link rel="prefetch" href="/assets/senior-algorithm.html-b8233c05.js" as="script"><link rel="prefetch" href="/assets/sort.html-68d2b587.js" as="script"><link rel="prefetch" href="/assets/linux-command.html-0d6e48ea.js" as="script"><link rel="prefetch" href="/assets/linux-directory.html-82f29c0b.js" as="script"><link rel="prefetch" href="/assets/linux-foundation.html-7ed06bf1.js" as="script"><link rel="prefetch" href="/assets/linux-software-install.html-082db3e4.js" as="script"><link rel="prefetch" href="/assets/linux-vim.html-a4c1a45a.js" as="script"><link rel="prefetch" href="/assets/file-system.html-8089ecf1.js" as="script"><link rel="prefetch" href="/assets/pycharm-docker.html-834e374d.js" as="script"><link rel="prefetch" href="/assets/asterisk.html-8bcfbecf.js" as="script"><link rel="prefetch" href="/assets/super.html-853c720e.js" as="script"><link rel="prefetch" href="/assets/broadcast.html-881a7b91.js" as="script"><link rel="prefetch" href="/assets/dimension.html-cfb0c58f.js" as="script"><link rel="prefetch" href="/assets/git.html-76e60acb.js" as="script"><link rel="prefetch" href="/assets/maven.html-9a3fe32b.js" as="script"><link rel="prefetch" href="/assets/geometry1.html-fcbed68b.js" as="script"><link rel="prefetch" href="/assets/geometry2.html-244d32e8.js" as="script"><link rel="prefetch" href="/assets/geometry3.html-92b5a2db.js" as="script"><link rel="prefetch" href="/assets/linear-algebra.html-4510c31e.js" as="script"><link rel="prefetch" href="/assets/overview.html-8e0317e7.js" as="script"><link rel="prefetch" href="/assets/rasterization1.html-8b03195e.js" as="script"><link rel="prefetch" href="/assets/rasterization2.html-692b7b85.js" as="script"><link rel="prefetch" href="/assets/ray-tracing1.html-49803d91.js" as="script"><link rel="prefetch" href="/assets/ray-tracing2.html-a37adc90.js" as="script"><link rel="prefetch" href="/assets/shading1.html-522ab3d2.js" as="script"><link rel="prefetch" href="/assets/shading2.html-f159d271.js" as="script"><link rel="prefetch" href="/assets/shading3.html-f9024fe3.js" as="script"><link rel="prefetch" href="/assets/transformation1.html-e04f51b5.js" as="script"><link rel="prefetch" href="/assets/transformation2.html-eeac0f5e.js" as="script"><link rel="prefetch" href="/assets/404.html-dfc69321.js" as="script"><link rel="prefetch" href="/assets/index.html-0756442d.js" as="script"><link rel="prefetch" href="/assets/index.html-0ab109ea.js" as="script"><link rel="prefetch" href="/assets/index.html-2b960597.js" as="script"><link rel="prefetch" href="/assets/index.html-594a81d0.js" as="script"><link rel="prefetch" href="/assets/index.html-3909408c.js" as="script"><link rel="prefetch" href="/assets/index.html-cdff7a43.js" as="script"><link rel="prefetch" href="/assets/index.html-30ce8eb9.js" as="script"><link rel="prefetch" href="/assets/index.html-2a661684.js" as="script"><link rel="prefetch" href="/assets/index.html-a1bba246.js" as="script"><link rel="prefetch" href="/assets/index.html-28d385e2.js" as="script"><link rel="prefetch" href="/assets/index.html-b03ac857.js" as="script"><link rel="prefetch" href="/assets/index.html-22fb2421.js" as="script"><link rel="prefetch" href="/assets/index.html-23954da2.js" as="script"><link rel="prefetch" href="/assets/index.html-d299739e.js" as="script"><link rel="prefetch" href="/assets/index.html-5899d845.js" as="script"><link rel="prefetch" href="/assets/index.html-729ef4c3.js" as="script"><link rel="prefetch" href="/assets/index.html-4e171c0d.js" as="script"><link rel="prefetch" href="/assets/index.html-2dadacb0.js" as="script"><link rel="prefetch" href="/assets/index.html-eece253a.js" as="script"><link rel="prefetch" href="/assets/index.html-4ddfc258.js" as="script"><link rel="prefetch" href="/assets/index.html-df6e7f5c.js" as="script"><link rel="prefetch" href="/assets/index.html-759c09ee.js" as="script"><link rel="prefetch" href="/assets/index.html-c5043ecf.js" as="script"><link rel="prefetch" href="/assets/index.html-ae6a186c.js" as="script"><link rel="prefetch" href="/assets/index.html-e0a87b00.js" as="script"><link rel="prefetch" href="/assets/index.html-013c7a9f.js" as="script"><link rel="prefetch" href="/assets/index.html-1aa8359b.js" as="script"><link rel="prefetch" href="/assets/index.html-3d387a8e.js" as="script"><link rel="prefetch" href="/assets/index.html-8bc0260b.js" as="script"><link rel="prefetch" href="/assets/index.html-492a761c.js" as="script"><link rel="prefetch" href="/assets/index.html-c752823b.js" as="script"><link rel="prefetch" href="/assets/index.html-15fe4708.js" as="script"><link rel="prefetch" href="/assets/index.html-25f6bcae.js" as="script"><link rel="prefetch" href="/assets/index.html-ada8ed54.js" as="script"><link rel="prefetch" href="/assets/index.html-69f9de07.js" as="script"><link rel="prefetch" href="/assets/index.html-c6073fd6.js" as="script"><link rel="prefetch" href="/assets/intro.html-26d4d8da.js" as="script"><link rel="prefetch" href="/assets/links.html-20b88841.js" as="script"><link rel="prefetch" href="/assets/data-structure.html-526475df.js" as="script"><link rel="prefetch" href="/assets/junior-algorithm.html-72e34c72.js" as="script"><link rel="prefetch" href="/assets/senior-algorithm.html-6d655235.js" as="script"><link rel="prefetch" href="/assets/sort.html-d8e3a535.js" as="script"><link rel="prefetch" href="/assets/linux-command.html-53026bcf.js" as="script"><link rel="prefetch" href="/assets/linux-directory.html-53a05e81.js" as="script"><link rel="prefetch" href="/assets/linux-foundation.html-102601d4.js" as="script"><link rel="prefetch" href="/assets/linux-software-install.html-1ab4c572.js" as="script"><link rel="prefetch" href="/assets/linux-vim.html-8b8d0529.js" as="script"><link rel="prefetch" href="/assets/file-system.html-ede216dc.js" as="script"><link rel="prefetch" href="/assets/pycharm-docker.html-901e202c.js" as="script"><link rel="prefetch" href="/assets/asterisk.html-e7355ad1.js" as="script"><link rel="prefetch" href="/assets/super.html-6d6642c5.js" as="script"><link rel="prefetch" href="/assets/broadcast.html-9b8a5059.js" as="script"><link rel="prefetch" href="/assets/dimension.html-67543920.js" as="script"><link rel="prefetch" href="/assets/git.html-d9c3551d.js" as="script"><link rel="prefetch" href="/assets/maven.html-9ab79861.js" as="script"><link rel="prefetch" href="/assets/geometry1.html-f3e14aa4.js" as="script"><link rel="prefetch" href="/assets/geometry2.html-23845827.js" as="script"><link rel="prefetch" href="/assets/geometry3.html-d6fd24c0.js" as="script"><link rel="prefetch" href="/assets/linear-algebra.html-5619d159.js" as="script"><link rel="prefetch" href="/assets/overview.html-1d7d2d43.js" as="script"><link rel="prefetch" href="/assets/rasterization1.html-b766cd8b.js" as="script"><link rel="prefetch" href="/assets/rasterization2.html-5c5177eb.js" as="script"><link rel="prefetch" href="/assets/ray-tracing1.html-4b4e13a8.js" as="script"><link rel="prefetch" href="/assets/ray-tracing2.html-9fce5418.js" as="script"><link rel="prefetch" href="/assets/shading1.html-7ea290e9.js" as="script"><link rel="prefetch" href="/assets/shading2.html-8ddf3c79.js" as="script"><link rel="prefetch" href="/assets/shading3.html-8eeb1fb9.js" as="script"><link rel="prefetch" href="/assets/transformation1.html-4d0eece9.js" as="script"><link rel="prefetch" href="/assets/transformation2.html-d1a27f8d.js" as="script"><link rel="prefetch" href="/assets/404.html-187a8aa4.js" as="script"><link rel="prefetch" href="/assets/index.html-6455026e.js" as="script"><link rel="prefetch" href="/assets/index.html-3ff04ad4.js" as="script"><link rel="prefetch" href="/assets/index.html-4edb141e.js" as="script"><link rel="prefetch" href="/assets/index.html-27c8251d.js" as="script"><link rel="prefetch" href="/assets/index.html-23109f04.js" as="script"><link rel="prefetch" href="/assets/index.html-c46c5bc6.js" as="script"><link rel="prefetch" href="/assets/index.html-b4f5cb63.js" as="script"><link rel="prefetch" href="/assets/index.html-c84c8509.js" as="script"><link rel="prefetch" href="/assets/index.html-3ba6e5b8.js" as="script"><link rel="prefetch" href="/assets/index.html-f73586b5.js" as="script"><link rel="prefetch" href="/assets/index.html-57ddd167.js" as="script"><link rel="prefetch" href="/assets/index.html-03b44042.js" as="script"><link rel="prefetch" href="/assets/index.html-ee2eae0c.js" as="script"><link rel="prefetch" href="/assets/index.html-8b87c74a.js" as="script"><link rel="prefetch" href="/assets/index.html-187cabeb.js" as="script"><link rel="prefetch" href="/assets/index.html-602ba86f.js" as="script"><link rel="prefetch" href="/assets/index.html-a3c642e8.js" as="script"><link rel="prefetch" href="/assets/index.html-ff9838bc.js" as="script"><link rel="prefetch" href="/assets/index.html-91a790da.js" as="script"><link rel="prefetch" href="/assets/index.html-e1d9b7c7.js" as="script"><link rel="prefetch" href="/assets/index.html-12e8bc82.js" as="script"><link rel="prefetch" href="/assets/index.html-3f097107.js" as="script"><link rel="prefetch" href="/assets/index.html-6607bb27.js" as="script"><link rel="prefetch" href="/assets/index.html-7f7c0756.js" as="script"><link rel="prefetch" href="/assets/index.html-0790dd6f.js" as="script"><link rel="prefetch" href="/assets/index.html-2cf1179d.js" as="script"><link rel="prefetch" href="/assets/index.html-2f1d15f4.js" as="script"><link rel="prefetch" href="/assets/index.html-6b39f118.js" as="script"><link rel="prefetch" href="/assets/index.html-6c2012d1.js" as="script"><link rel="prefetch" href="/assets/index.html-8158c867.js" as="script"><link rel="prefetch" href="/assets/index.html-98715016.js" as="script"><link rel="prefetch" href="/assets/index.html-7ffa5c39.js" as="script"><link rel="prefetch" href="/assets/index.html-48ea2d9f.js" as="script"><link rel="prefetch" href="/assets/index.html-2bddac87.js" as="script"><link rel="prefetch" href="/assets/index.html-657c9021.js" as="script"><link rel="prefetch" href="/assets/giscus-0b7adcf8.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-5794cde2.js" as="script"><link rel="prefetch" href="/assets/style-e9220a04.js" as="script"><link rel="prefetch" href="/assets/docsearch-1d421ddb.js" as="script"><link rel="prefetch" href="/assets/index-5161ad19.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="vp-link vp-brand" href="/"><img class="vp-nav-logo" src="/logo.png" alt="Roc Yan&#39;s Blog"><!----><span class="vp-site-name hide-in-pad">Roc Yan&#39;s Blog</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a class="vp-link nav-link" href="/"><span class="font-icon icon iconfont icon-home" style=""></span>主页<!----></a></div><div class="nav-item hide-in-mobile"><a class="vp-link nav-link" href="/timeline.html"><span class="font-icon icon iconfont icon-time" style=""></span>时间轴<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="分类"><span class="title"><span class="font-icon icon iconfont icon-categoryselected" style=""></span>分类</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="vp-link nav-link" href="/posts/CG/"><span class="font-icon icon iconfont icon-threeD" style=""></span>计算机图形学<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link active" href="/posts/linux/"><span class="font-icon icon iconfont icon-linux" style=""></span>Linux<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/posts/others/"><span class="font-icon icon iconfont icon-others" style=""></span>其他<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/posts/PAT/"><span class="font-icon icon iconfont icon-code" style=""></span>PAT<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/posts/python/"><span class="font-icon icon iconfont icon-python" style=""></span>Python<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/posts/pytorch/"><span class="font-icon icon iconfont icon-pytorch" style=""></span>PyTorch<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/posts/tool/"><span class="font-icon icon iconfont icon-tool" style=""></span>工具<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a class="vp-link nav-link" href="/tag.html"><span class="font-icon icon iconfont icon-tag" style=""></span>标签<!----></a></div><div class="nav-item hide-in-mobile"><a class="vp-link nav-link" href="/links.html"><span class="font-icon icon iconfont icon-link" style=""></span>链接<!----></a></div><div class="nav-item hide-in-mobile"><a class="vp-link nav-link" href="/intro.html"><span class="font-icon icon iconfont icon-people" style=""></span>个人简介<!----></a></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><!----><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索文档"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索文档</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/"><span class="font-icon icon iconfont icon-home" style=""></span>博客主页<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><span class="font-icon icon iconfont icon-article" style=""></span><span class="vp-sidebar-title">文章</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-threeD" style=""></span><span class="vp-sidebar-title">计算机图形学</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><span class="font-icon icon iconfont icon-linux" style=""></span><span class="vp-sidebar-title">Linux</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/posts/linux/linux-foundation.html"><!---->Linux 基础<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/posts/linux/linux-directory.html"><!---->Linux 常用目录结构<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/posts/linux/linux-command.html"><!---->Linux 命令<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/posts/linux/linux-software-install.html"><!---->Linux 软件包安装<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link active vp-sidebar-link vp-sidebar-page active" href="/posts/linux/linux-user-manage.html"><!---->Linux 用户管理<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/posts/linux/linux-user-manage.html#一、用户相关文件"><!---->一、用户相关文件<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/posts/linux/linux-user-manage.html#_1-1-用户信息文件-etc-passwd"><!---->1.1 用户信息文件 /etc/passwd<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/posts/linux/linux-user-manage.html#_1-2-影子文件-etc-shadow"><!---->1.2 影子文件 /etc/shadow<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/posts/linux/linux-user-manage.html#_1-3-组信息文件-etc-group"><!---->1.3 组信息文件 /etc/group<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/posts/linux/linux-user-manage.html#_1-4-组密码文件-etc-gshadow"><!---->1.4 组密码文件 /etc/gshadow<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/posts/linux/linux-user-manage.html#_1-5-用户的家目录"><!---->1.5 用户的家目录<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/posts/linux/linux-user-manage.html#_1-6-用户邮箱目录"><!---->1.6 用户邮箱目录<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/posts/linux/linux-user-manage.html#_1-7-用户模版目录-etc-skel"><!---->1.7 用户模版目录 /etc/skel<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/posts/linux/linux-user-manage.html#二、用户管理命令"><!---->二、用户管理命令<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/posts/linux/linux-user-manage.html#_2-1-添加用户"><!---->2.1 添加用户<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/posts/linux/linux-user-manage.html#_2-2-设定密码"><!---->2.2 设定密码<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/posts/linux/linux-user-manage.html#_2-3-用户信息修改"><!---->2.3 用户信息修改<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/posts/linux/linux-user-manage.html#_2-4-删除用户"><!---->2.4 删除用户<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/posts/linux/linux-user-manage.html#_2-5-切换用户身份"><!---->2.5 切换用户身份<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/posts/linux/linux-user-manage.html#三、组管理命令"><!---->三、组管理命令<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/posts/linux/linux-user-manage.html#_3-1-添加用户组"><!---->3.1 添加用户组<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/posts/linux/linux-user-manage.html#_3-2-删除用户组"><!---->3.2 删除用户组<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/posts/linux/linux-user-manage.html#_3-3-从组中添加或删除用户"><!---->3.3 从组中添加或删除用户<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/posts/linux/linux-user-manage.html#_3-4-改变有效组"><!---->3.4 改变有效组<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/posts/linux/linux-vim.html"><!---->Vim<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-others" style=""></span><span class="vp-sidebar-title">其他</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-code" style=""></span><span class="vp-sidebar-title">PAT</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-python" style=""></span><span class="vp-sidebar-title">Python</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-pytorch" style=""></span><span class="vp-sidebar-title">PyTorch</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-tool" style=""></span><span class="vp-sidebar-title">工具</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->Linux 用户管理</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://rocyan98.github.io" target="_blank" rel="noopener noreferrer">Roc Yan</a></span><span property="author" content="Roc Yan"></span></span><span class="page-original-info">原创</span><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-08-03T00:00:00.000Z"></span><span class="page-word-info" aria-label="字数🔠" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="word icon"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>约 3088 字</span><meta property="wordCount" content="3088"></span><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 10 分钟</span><meta property="timeRequired" content="PT10M"></span><span class="page-category-info" aria-label="分类🌈" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item category0 clickable" role="navigation">Linux</span><!--]--><meta property="articleSection" content="Linux"></span><span class="page-tag-info" aria-label="标签🏷" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item tag0 clickable" role="navigation">Linux</span><!--]--><meta property="keywords" content="Linux"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">此页内容<button type="button" class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#一、用户相关文件">一、用户相关文件</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_1-1-用户信息文件-etc-passwd">1.1 用户信息文件 /etc/passwd</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_1-2-影子文件-etc-shadow">1.2 影子文件 /etc/shadow</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_1-3-组信息文件-etc-group">1.3 组信息文件 /etc/group</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_1-4-组密码文件-etc-gshadow">1.4 组密码文件 /etc/gshadow</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_1-5-用户的家目录">1.5 用户的家目录</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_1-6-用户邮箱目录">1.6 用户邮箱目录</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_1-7-用户模版目录-etc-skel">1.7 用户模版目录 /etc/skel</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#二、用户管理命令">二、用户管理命令</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_2-1-添加用户">2.1 添加用户</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_2-2-设定密码">2.2 设定密码</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_2-3-用户信息修改">2.3 用户信息修改</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_2-4-删除用户">2.4 删除用户</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_2-5-切换用户身份">2.5 切换用户身份</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#三、组管理命令">三、组管理命令</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_3-1-添加用户组">3.1 添加用户组</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_3-2-删除用户组">3.2 删除用户组</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_3-3-从组中添加或删除用户">3.3 从组中添加或删除用户</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#_3-4-改变有效组">3.4 改变有效组</a></li><!----><!--]--></ul></li><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><h1 id="linux-用户管理" tabindex="-1"><a class="header-anchor" href="#linux-用户管理" aria-hidden="true">#</a> Linux 用户管理</h1><h2 id="一、用户相关文件" tabindex="-1"><a class="header-anchor" href="#一、用户相关文件" aria-hidden="true">#</a> 一、用户相关文件</h2><h3 id="_1-1-用户信息文件-etc-passwd" tabindex="-1"><a class="header-anchor" href="#_1-1-用户信息文件-etc-passwd" aria-hidden="true">#</a> 1.1 用户信息文件 /etc/passwd</h3><p><code>root:x:0:0:root:/root:/bin/bash</code></p><ul><li>第一列：用户名</li><li>第二列：密码位（x表示有密码，具体密码在/etc/shadow）</li><li>第三列：用户ID <ul><li>0超级用户UID。如果用户UID为0，代表这个账号是管理员账号。那Linux中如何把普通用户升级成为管理员呢？就是把其他用户的UID修改为0就可以了，不建议建立多个管理员账号。</li><li>1-499系统用户（伪用户）UID。这些UID账号是系统保留给系统用户的UID，也就是说UID是1-499范围内的用户是不能登录系统的，而是用来运行系统或服务的。其中1-99是系统保留的账号，系统自动创建。100-499 是预留给用户创建系统账号的。</li><li>500-60000普通用户UID。建立的普通用户UID从500开始，最大到60000。这些用户足够使用了，但是如果不够也不用害怕，2.6.x内核以后的Linux系统用户UID已经可以支持<mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:0;" xmlns="http://www.w3.org/2000/svg" width="2.919ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 1290.1 833.9" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="TeXAtom" transform="translate(533,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z" transform="translate(500,0)"></path></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>2</mn><mrow data-mjx-texclass="ORD"><mn>32</mn></mrow></msup></math></mjx-assistive-mml></mjx-container>这么多了。</li></ul></li><li>第四列：组ID <ul><li>GID 添加用户时，如果不指定用户所属的初始组，那么会建立和用户名相同的组</li></ul></li><li>第五列：用户说明第六列：用户家目录 ~</li><li>第七列：登录shell <ul><li>用户的是/bin/bash</li><li>伪用户的是/sbin/nologin 表示无法登陆</li></ul></li></ul><h3 id="_1-2-影子文件-etc-shadow" tabindex="-1"><a class="header-anchor" href="#_1-2-影子文件-etc-shadow" aria-hidden="true">#</a> 1.2 影子文件 /etc/shadow</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>root:<span class="token variable">$6</span><span class="token variable">$9w5Td6lg</span><span class="token variable">$bgpsy3olsq9WwWvS5Sst2W3ZiJpuCGDY</span>.4w4MRk3ob/i85fI38RH15wzVoomff9isV1PzdcXmixzhnMVhMxbv0:15775:0:99999:7:::
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><p>第一列：用户名</p></li><li><p>第二列：加密密码</p></li><li><p>第三列：密码最近更改时间（时间戳表示）, 1970年1月1日作为标准时间</p></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#时间戳转日期</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># date -d &quot;1970-01-   01 15775 days&quot;</span>
<span class="token number">2013</span>年 03月 <span class="token number">11</span>日星期一 00:00:00 CST

<span class="token comment">#日期转时间戳</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># echo $(($(date --date=&quot;2013/03/11&quot; +%s)/86400+1))</span>
<span class="token number">15775</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>第四列：两次密码的修改间隔时间（和第3字段相比）</p></li><li><p>第五例：密码有效期（和第3字段相比）</p></li><li><p>第六列：密码修改到期前的警告天数（和第5字段相比）</p></li><li><p>第七列：密码过期后的宽限天数（和第5字段相比）</p></li><li><p>第八列：密码失效时间这里同样要写时间戳，也就是用1970年1月1日进行时间换算。如果超过了失效时间，就算密码没有过期，用户也就失效无法使用了</p></li><li><p>第九列：保留</p></li></ul><h3 id="_1-3-组信息文件-etc-group" tabindex="-1"><a class="header-anchor" href="#_1-3-组信息文件-etc-group" aria-hidden="true">#</a> 1.3 组信息文件 /etc/group</h3><p><code>root:x:0:root</code></p><ul><li>第一列：组名</li><li>第二列：组密码位</li><li>第三列： GID</li><li>第四列：此组中支持的其他用户.附加组是此组的用户</li></ul><blockquote><ul><li>初始组：每个用户初始组只能有一个，初始组只能有一个，一般都是和用户名相同的组作为初始组</li><li>附加组：每个用户可以属于多个附加组。要把用户加入组，都是加入附加组</li></ul></blockquote><h3 id="_1-4-组密码文件-etc-gshadow" tabindex="-1"><a class="header-anchor" href="#_1-4-组密码文件-etc-gshadow" aria-hidden="true">#</a> 1.4 组密码文件 /etc/gshadow</h3><ul><li>如果给用户组设定了组管理员，并给该用户组设定了组密码，组密码就保存在这个文件当中。组管理员就可以利用这个密码管理这个用户组了。</li></ul><h3 id="_1-5-用户的家目录" tabindex="-1"><a class="header-anchor" href="#_1-5-用户的家目录" aria-hidden="true">#</a> 1.5 用户的家目录</h3><ul><li>root用户在 /root，普通用户在 /home/user</li></ul><h3 id="_1-6-用户邮箱目录" tabindex="-1"><a class="header-anchor" href="#_1-6-用户邮箱目录" aria-hidden="true">#</a> 1.6 用户邮箱目录</h3><ul><li>这个邮箱在/var/spool/mail目录当中，例如user1用户的邮箱就是/var/spool/mail/user1文件</li></ul><h3 id="_1-7-用户模版目录-etc-skel" tabindex="-1"><a class="header-anchor" href="#_1-7-用户模版目录-etc-skel" aria-hidden="true">#</a> 1.7 用户模版目录 /etc/skel</h3><h2 id="二、用户管理命令" tabindex="-1"><a class="header-anchor" href="#二、用户管理命令" aria-hidden="true">#</a> 二、用户管理命令</h2><h3 id="_2-1-添加用户" tabindex="-1"><a class="header-anchor" href="#_2-1-添加用户" aria-hidden="true">#</a> 2.1 添加用户</h3><ul><li>添加用户只是修改或增加了以下六个文件，手工删除六个文件的内容就可以删除用户。 <ul><li>/etc/passwd</li><li>/etc/shadow</li><li>/etc/group</li><li>/etc/gshadow</li><li>/home/user</li><li>/var/spool/mail/user</li></ul></li></ul><h4 id="_2-1-1-useradd-命令" tabindex="-1"><a class="header-anchor" href="#_2-1-1-useradd-命令" aria-hidden="true">#</a> 2.1.1 useradd 命令</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># useradd 选项 用户名</span>
选项：
  <span class="token parameter variable">-u</span>  <span class="token number">550</span>指定<span class="token environment constant">UID</span>     
  <span class="token parameter variable">-g</span>  组名指定初始组不要手工指定      
  <span class="token parameter variable">-G</span>  组名指定附加组，把用户加入组，使用附加组  
  <span class="token parameter variable">-c</span>  说明添加说明      
  <span class="token parameter variable">-d</span>  目录手工指定家目录，目录不需要事先建立    
  <span class="token parameter variable">-s</span>  shell   /bin/bash
  
如：
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># groupadd lamp1</span>
<span class="token comment">#先手工添加lamp1用户组，因为我一会要把lamp1用户的初始组指定过来，如果不事先建立，会报错用户组不存在[root@localhost ~]# useradd -u 550 -g lamp1 -G root -d /home/lamp1  \ </span>
<span class="token parameter variable">-c</span> <span class="token string">&quot;test user&quot;</span> <span class="token parameter variable">-s</span> /bin/bash lamp1 
<span class="token comment">#建立用户lamp1的同时指定了UID（550），初始组（lamp1），附加组（root），家目录（/home/lamp1），用户说明(test user)和用户登录shell（/bin/bash）</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># grep &quot;lamp1&quot; /etc/passwd /etc/shadow /etc/group</span>
<span class="token comment">#同时查看三个文件/etc/passwd:lamp1:x:550:502:test user:/home/lamp1:/bin/bash</span>
<span class="token comment">#用户的UID、初始组、用户说明、家目录和登录shell都和命令手工指定的一致</span>
/etc/shadow:lamp1:<span class="token operator">!</span><span class="token operator">!</span>:15710:0:99999:7:::
<span class="token comment">#lamp1用户还没有设定密码/etc/group:root:x:0:lamp1 </span>
<span class="token comment">#lamp1用户加入了root组，root组是lamp1用户的附加组</span>
/etc/group:lamp1:x:502:
<span class="token comment">#GID502的组是lamp1组</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll -d /home/lamp1/</span>
drwx------ <span class="token number">3</span> lamp1 lamp1 <span class="token number">4096</span> <span class="token number">1</span>月    <span class="token number">6</span> 01:13 /home/lamp1/ 
<span class="token comment">#家目录也建立了啊。不需要手工建立家目录</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>不常用选项</p></blockquote><h4 id="_2-2-2-useradd-的默认值" tabindex="-1"><a class="header-anchor" href="#_2-2-2-useradd-的默认值" aria-hidden="true">#</a> 2.2.2 useradd 的默认值</h4><ul><li>useradd 添加用户时参考的默认值文件主要有两个，分别是/etc/default/useradd 和/etc/login.defs</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vi /etc/default/useradd</span>
<span class="token comment"># useradd defaults file</span>
<span class="token assign-left variable">GROUP</span><span class="token operator">=</span><span class="token number">100</span>
<span class="token assign-left variable"><span class="token environment constant">HOME</span></span><span class="token operator">=</span>/home
<span class="token assign-left variable">INACTIVE</span><span class="token operator">=</span>-1 
<span class="token assign-left variable">EXPIRE</span><span class="token operator">=</span>
<span class="token assign-left variable"><span class="token environment constant">SHELL</span></span><span class="token operator">=</span>/bin/bash
<span class="token assign-left variable">SKEL</span><span class="token operator">=</span>/etc/ske
<span class="token assign-left variable">lCREATE_MAIL_SPOOL</span><span class="token operator">=</span>yes
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><ul><li>GROUP=100 <ul><li>这个选项是建立用户的默认组，也就是说添加每个用户时，用户的初始组就是GID为100的这个用户组。目前我们采用的机制私有用户组机制。</li></ul></li><li>HOME=/home <ul><li>这个选项是用户的家目录的默认位置，所以所有的新建用户的家目录默认都在/home/下。</li></ul></li><li>INACTIVE=-1 <ul><li>这个选项就是密码过期后的宽限天数，也就是/etc/shadow文件的第七个字段。如果是天数，比如10代表密码过期后10天后失效；如果是0，代表密码过期后立即失效；如果是-1，则代表密码永远不会失效。这里默认值是-1，所以所有新建立的用户密码都不会失效。</li></ul></li><li>EXPIRE= <ul><li>这个选项是密码失效时间，也就是/etc/shadow文件的第八个字段。也就说用户到达这个日期后就会直接失效。当然这里也是使用时间戳来表示日期的。默认值是空，所以所有新建用户没有失效时间，永久有效。</li></ul></li><li>SHELL=/bin/bash <ul><li>这个选项是用户的默认shell的。/bin/bash是Linux的标志shell，所以所有新建立的用户默认都具备shell赋予的权限。</li></ul></li><li>SKEL=/etc/skel <ul><li>这个选项就是定义用户的模板目录的位置，/etc/skel/目录中的文件都会复制到新建用户的家目录当中。</li></ul></li><li>CREATE_MAIL_SPOOL=yes <ul><li>这个选项定义是否给新建用户建立邮箱，默认是创建，也就是说所有的新建用户系统都会新建一个邮箱，放在/var/spool/mail/下和用户名相同。</li></ul></li></ul></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vi /etc/login.defs</span>
<span class="token comment">#这个文件有些注释，把注释删除掉，文件内容就变成下面这个样子了</span>
MAIL_DIR        /var/spool/mail
PASS_MAX_DAYS   <span class="token number">99999</span>
PASS_MIN_DAYS   <span class="token number">0</span>
PASS_MIN_LEN    <span class="token number">5</span>
PASS_WARN_AGE   <span class="token number">7</span>
UID_MIN                   <span class="token number">500</span>
UID_MAX                 <span class="token number">60000</span>
GID_MIN                   <span class="token number">500</span>
GID_MAX                 <span class="token number">60000</span>
CREATE_HOME     <span class="token function">yes</span>
UMASK           077
USERGROUPS_ENAB <span class="token function">yes</span>
ENCRYPT_METHOD SHA512
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><ul><li>MAIL_DIR <ul><li>/var/spool/mail这行指定了新建用户的默认邮箱位置。比如user1用户的邮箱是就是/var/spool/mail/user1。</li></ul></li><li>PASS_MAX_DAYS 99999 <ul><li>这行指定的是密码的有效期，也就是/etc/shadow文件的第五字段。代表多少天之后必须修改密码，默认值是99999。</li></ul></li><li>PASS_MIN_DAYS 0 <ul><li>这行指定的是两次密码的修改间隔时间，也就是/etc/shadow文件的第四字段。代表第一次修改密码之后，几天后才能再次修改密码。默认值是0。</li></ul></li><li>PASS_MIN_LEN 5 <ul><li>这行代表密码的最小长度，默认不小于5位。但是我们现在用户登录时验证已经被PAM模块取代，所以这个选项并不生效。</li></ul></li><li>PASS_WARN_AGE 7 <ul><li>这行代表密码修改到期前的警告天数，也就是/etc/shadow文件的第六字段。代表密码到底有效期前多少天开始进行警告提醒，默认值是7天。</li></ul></li><li>UID_MIN 500</li><li>UID_MAX 60000 <ul><li>这两行代表创建用户时，最小UID和最大的UID的范围。我们2.6.x内核开始，Linux用户的UID最大可以支持232这么多，但是真正使用时最大范围是60000。还要注意如果我手工指定了一个用户的UID是550，那么下一个创建的用户的UID就会从551开始，哪怕500- 549之间的UID没有使用（小于500的UID是给伪用户预留的）。</li></ul></li><li>GID_MIN 500</li><li>GID_MAX 60000 <ul><li>这两行指定了GID的最小值和最大值之间的范围。</li></ul></li><li>CREATE_HOME yes <ul><li>这行指定建立用户时是否自动建立用户的家目录，默认是建立</li></ul></li><li>UMASK 077 <ul><li>这行指定的是建立的用户家目录的默认权限，因为umask值是077，所以新建的用户家目录的权限是700。</li></ul></li><li>USERGROUPS_ENAB yes <ul><li>这行指定的是使用命令userdel删除用户时，是否删除用户的初始组，默认是删除。</li></ul></li><li>ENCRYPT_METHOD SHA512 <ul><li>这行指定Linux用户的密码使用SHA512散列模式加密，这是新的密码加密模式，原先的Linux只能用DES或MD5方式加密</li></ul></li></ul></blockquote><h3 id="_2-2-设定密码" tabindex="-1"><a class="header-anchor" href="#_2-2-设定密码" aria-hidden="true">#</a> 2.2 设定密码</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#passwd 选项 用户名</span>
选项：    
	-l:   暂时锁定用户。仅root用户可用   
  -u:   解锁用户。仅root用户可用 
  --stdin:可以将通过管道符输出的数据作为用户的密码。主要在批量添加用户时使用
  
  <span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#passwd </span>
  <span class="token comment">#passwd直接回车代表修改当前用户的密码</span>
  
  <span class="token comment">#也可以使用字符串作为密码</span>
  <span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># echo &quot;123&quot; | passwd --stdin user1 </span>
  <span class="token comment">#更改用户 user1的密码。</span>
  
  <span class="token comment">#可以通过命令，把密码修改日期归零（shadow第3字段）.这样用户一登陆就要修改密码，例如:</span>
  <span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># chage -d 0 user1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-3-用户信息修改" tabindex="-1"><a class="header-anchor" href="#_2-3-用户信息修改" aria-hidden="true">#</a> 2.3 用户信息修改</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#usermod 选项 用户名</span>
选项：    
	<span class="token parameter variable">-u</span> <span class="token environment constant">UID</span>：修改用户的<span class="token environment constant">UID</span>   
  <span class="token parameter variable">-d</span> 家目录：修改用户的家目录。家目录必须写绝对路径 
  <span class="token parameter variable">-c</span> 用户说明：修改用户的说明信息，就是/etc/passwd文件的第五个字段  
  <span class="token parameter variable">-g</span> 组名：修改用户的初始组，就是/etc/passwd文件的第四个字段
  <span class="token parameter variable">-G</span> 组名：修改用户的附加组，其实就是把用户加入其他用户组 
  <span class="token parameter variable">-s</span> shell：修改用户的登录Shell。默认是/bin/bash   
  <span class="token parameter variable">-e</span> 日期：修改用户的失效日期，格式为“YYYY-MM-DD”。也就是/etc/shadow文件的第八个字段 
  <span class="token parameter variable">-L</span> 临时锁定用户（Lock）    
  <span class="token parameter variable">-U</span> 解锁用户（Unlock）
  <span class="token parameter variable">-l</span> 修改用户名 <span class="token function">usermod</span> <span class="token parameter variable">-l</span> 新名 旧名
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-4-删除用户" tabindex="-1"><a class="header-anchor" href="#_2-4-删除用户" aria-hidden="true">#</a> 2.4 删除用户</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># userdel [-r] 用户名</span>
选项：  
	-r：在删除用户的同时删除用户的家目录
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-5-切换用户身份" tabindex="-1"><a class="header-anchor" href="#_2-5-切换用户身份" aria-hidden="true">#</a> 2.5 切换用户身份</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># su [选项] 用户名</span>
选项：
	-：选项只使用“-”代表连带用户的环境变量一起切换
	<span class="token parameter variable">-c</span> 命令：仅执行一次命令，而不切换用户身份
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>“-”不能省略，它代表切换用户身份时，用户的环境变量也要切换成新用户的环境变量。</p></blockquote><h2 id="三、组管理命令" tabindex="-1"><a class="header-anchor" href="#三、组管理命令" aria-hidden="true">#</a> 三、组管理命令</h2><h3 id="_3-1-添加用户组" tabindex="-1"><a class="header-anchor" href="#_3-1-添加用户组" aria-hidden="true">#</a> 3.1 添加用户组</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># groupadd 选项 组名</span>
选项：
	<span class="token parameter variable">-g</span> GID：指定组ID
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-2-删除用户组" tabindex="-1"><a class="header-anchor" href="#_3-2-删除用户组" aria-hidden="true">#</a> 3.2 删除用户组</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#groupdel 组名</span>

如：
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#groupdel testgrp </span>
<span class="token comment">#删除testgrp组</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>注意：要删除的组不能是其他用户的初始组，也就是说这个组中没有初始用户才可以删除。如果组中有附加用户，则删除组时不受影响。</p></blockquote><h3 id="_3-3-从组中添加或删除用户" tabindex="-1"><a class="header-anchor" href="#_3-3-从组中添加或删除用户" aria-hidden="true">#</a> 3.3 从组中添加或删除用户</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># gpasswd 选项 组名</span>
选项：
	<span class="token parameter variable">-a</span> 用户名：把用户加入组
	<span class="token parameter variable">-d</span> 用户名：把用户从组中删除
	
如：
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># groupadd grouptest </span>
<span class="token comment">#添加组grouptest  </span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># gpasswd -a user1 grouptest </span>
<span class="token comment">#把用户user1加入grouptest组</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># gpasswd -d user1 grouptest </span>
<span class="token comment">#把用户user1从组中删除</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>​ 也可以使用usermod命令把用户加入某个组，不过usermod命令的操作对象是用户，命令是“usermod -G grouptest user1”，把用户名作为参数放在最后；而gpasswd命令的操作对象是组，命令是“gpasswd -a user1 grouptest”，把组名作为参数放在最后。</p></blockquote><h3 id="_3-4-改变有效组" tabindex="-1"><a class="header-anchor" href="#_3-4-改变有效组" aria-hidden="true">#</a> 3.4 改变有效组</h3><ul><li>当用户创建一个文件时，文件的所属组默认是用户的初始组，即使该用户有其他附加组。可以使用newgrp命令改变用户的有效组。</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># newgrp 组名</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><!----><footer class="page-meta"><!----><div class="meta-item git-info"><div class="update-time"><span class="label">上次编辑于: </span><!----></div><!----></div></footer><nav class="vp-page-nav"><a class="vp-link nav-link prev" href="/posts/linux/linux-software-install.html"><div class="hint"><span class="arrow start"></span>上一页</div><div class="link"><!---->Linux 软件包安装</div></a><a class="vp-link nav-link next" href="/posts/linux/linux-vim.html"><div class="hint">下一页<span class="arrow end"></span></div><div class="link">Vim<!----></div></a></nav><div id="comment" class="giscus-wrapper input-top" style="display:block;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper"><!----><div class="vp-copyright">Copyright © 2023-至今 Roc Yan</div></footer></div><!--]--><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app-8309f210.js" defer></script>
  </body>
</html>
