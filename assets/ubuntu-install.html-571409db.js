import{_ as t,r as o,o as i,c as d,b as e,e as a,d as s,f as r}from"./app-b3e7041f.js";const l={},c=e("h1",{id:"ubuntu-20-04-安装教程",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#ubuntu-20-04-安装教程","aria-hidden":"true"},"#"),a(" Ubuntu-20.04 安装教程")],-1),h=e("p",null,"因为最近实验室发了主机，所以把安装 ubuntu-20.04 的过程记录一下，顺便推荐一些好用的软件。",-1),p=e("h2",{id:"_1-安装系统",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_1-安装系统","aria-hidden":"true"},"#"),a(" 1 安装系统")],-1),u={href:"https://blog.csdn.net/wyr1849089774/article/details/133387874",target:"_blank",rel:"noopener noreferrer"},b=e("h3",{id:"_1-1-制作-ubuntu-启动盘",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_1-1-制作-ubuntu-启动盘","aria-hidden":"true"},"#"),a(" 1.1 制作 ubuntu 启动盘")],-1),_={href:"http://rufus.ie/downloads/",target:"_blank",rel:"noopener noreferrer"},m=e("h3",{id:"_1-2-windows-分区设置",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_1-2-windows-分区设置","aria-hidden":"true"},"#"),a(" 1.2 windows 分区设置")],-1),f=e("p",null,"如果不需要双系统，可以直接跳过这一步。",-1),v={href:"https://www.disktool.cn/content-center/how-to-delete-a-recovery-partition-631.html",target:"_blank",rel:"noopener noreferrer"},g=r('<h3 id="_1-3-安装-ubuntu" tabindex="-1"><a class="header-anchor" href="#_1-3-安装-ubuntu" aria-hidden="true">#</a> 1.3 安装 ubuntu</h3><p>安装完 ubuntu 后建议切换成英文系统，不然有些目录是中文确实很奇怪。</p><h2 id="_2-基本配置" tabindex="-1"><a class="header-anchor" href="#_2-基本配置" aria-hidden="true">#</a> 2 基本配置</h2><h3 id="_2-1-网络认证" tabindex="-1"><a class="header-anchor" href="#_2-1-网络认证" aria-hidden="true">#</a> 2.1 网络认证</h3>',4),k={href:"http://10.250.3.66",target:"_blank",rel:"noopener noreferrer"},x=r(`<h3 id="_2-2-ssh" tabindex="-1"><a class="header-anchor" href="#_2-2-ssh" aria-hidden="true">#</a> 2.2 SSH</h3><p>想要用自己的电脑 ssh 连接，需要先执行下面的命令：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> openssh-server
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_2-3-免密-ssh-连接" tabindex="-1"><a class="header-anchor" href="#_2-3-免密-ssh-连接" aria-hidden="true">#</a> 2.3 免密 SSH 连接</h3><p>嫌每次 ssh 连接或者 scp 传文件都要输密码很麻烦可以设置免密。</p><p>首先，请确保您在本地系统上已经生成了 SSH 密钥对。如果还没有生成，请使用以下命令来生成 SSH 密钥对：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>ssh-keygen <span class="token parameter variable">-t</span> rsa <span class="token parameter variable">-b</span> <span class="token number">4096</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>将在默认目录 <code>~/.ssh/</code> 下生成密钥对文件。</p><p>然后可以使用以下命令将公钥复制到远程主机：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>ssh-copy-id 主机上的用户@主机的ip
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>然后输入远程主机的密码，这样以后连接就不用再输密码。</p><h3 id="_2-4-修改主机名" tabindex="-1"><a class="header-anchor" href="#_2-4-修改主机名" aria-hidden="true">#</a> 2.4 修改主机名</h3><p>如果你嫌自己默认的主机名太长太丑，可以直接修改 <code>/etc/hostname</code> 这个文件，修改后重启就好。</p><p><img src="https://rocyan.oss-cn-hangzhou.aliyuncs.com/blog/202406261228183.png" alt="image-20240415161239236" style="zoom:50%;"> @ 前面的是用户名，@ 后面的是主机名。</p><h3 id="_2-5-远程访问桌面" tabindex="-1"><a class="header-anchor" href="#_2-5-远程访问桌面" aria-hidden="true">#</a> 2.5 远程访问桌面</h3><h4 id="_2-5-1-向日葵" tabindex="-1"><a class="header-anchor" href="#_2-5-1-向日葵" aria-hidden="true">#</a> 2.5.1 向日葵</h4>`,16),w={href:"https://sunlogin.oray.com",target:"_blank",rel:"noopener noreferrer"},y=r(`<h4 id="_2-5-2-vnc" tabindex="-1"><a class="header-anchor" href="#_2-5-2-vnc" aria-hidden="true">#</a> 2.5.2 VNC</h4><p>如果你愿意折腾也可以配置 vnc：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 下载 x11vnc</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> x11vnc
<span class="token comment"># 配置密码</span>
x11vnc <span class="token parameter variable">-storepasswd</span>
<span class="token comment"># 启动 vnc 服务</span>
x11vnc <span class="token parameter variable">-forever</span> <span class="token parameter variable">-shared</span> <span class="token parameter variable">-rfbauth</span> ~/.vnc/passwd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果你是 mac，可以用自带的屏幕共享，直接访问。</p><p>就是这个 <img src="https://rocyan.oss-cn-hangzhou.aliyuncs.com/blog/202406261221999.png" style="zoom:25%;"> app，在启动台的&#39;其他&#39;里面可以可以找到；在应用程序的使用工具文件里也可以找到；或者聚集搜索直接搜也行。</p><h3 id="_3-推荐配置" tabindex="-1"><a class="header-anchor" href="#_3-推荐配置" aria-hidden="true">#</a> 3 推荐配置</h3><p>基本配置完成之后差不多就可以用了，接下来的配置是我个人的推荐，有些安装起来可能有点复杂，需要有 linux 的基础。</p><h3 id="_3-1-zsh" tabindex="-1"><a class="header-anchor" href="#_3-1-zsh" aria-hidden="true">#</a> 3.1 ZSH</h3>`,8),z={href:"https://blog.csdn.net/NRWHF/article/details/129628713",target:"_blank",rel:"noopener noreferrer"},S=e("code",null,"chsh -s $(which zsh) ",-1),U=r(`<h3 id="_3-2-conda" tabindex="-1"><a class="header-anchor" href="#_3-2-conda" aria-hidden="true">#</a> 3.2 Conda</h3><p>我这里选择安装 miniconda，当然你也可以选择 anaconda：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">wget</span> https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh
<span class="token function">sh</span> Miniconda3-latest-Linux-x86_64.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-3-homebrew" tabindex="-1"><a class="header-anchor" href="#_3-3-homebrew" aria-hidden="true">#</a> 3.3 Homebrew</h3>`,4),H={href:"https://brew.sh/",target:"_blank",rel:"noopener noreferrer"},I=r(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 先安装 curl</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token function">curl</span>
<span class="token comment"># 安装 homebrew</span>
/bin/bash <span class="token parameter variable">-c</span> <span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span><span class="token function">curl</span> <span class="token parameter variable">-fsSL</span> https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh<span class="token variable">)</span></span>&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>安装完成之后记得添加环境变量。</p><h3 id="_3-4-clash" tabindex="-1"><a class="header-anchor" href="#_3-4-clash" aria-hidden="true">#</a> 3.4 Clash</h3>`,3),N={href:"https://paolu.lanzn.com/i4Js01in4rcb",target:"_blank",rel:"noopener noreferrer"},D=e("code",null,"./cfw",-1),q=e("p",null,"然后设置里设置网络代理：",-1),B=e("figure",null,[e("img",{src:"https://rocyan.oss-cn-hangzhou.aliyuncs.com/blog/202406261221069.png",alt:"",tabindex:"0",loading:"lazy"}),e("figcaption")],-1),L=e("figure",null,[e("img",{src:"https://rocyan.oss-cn-hangzhou.aliyuncs.com/blog/202406261222775.png",alt:"",tabindex:"0",loading:"lazy"}),e("figcaption")],-1),E=e("code",null,"./cfw",-1),F={href:"https://blog.csdn.net/m0_47406832/article/details/126447106",target:"_blank",rel:"noopener noreferrer"},T=e("h3",{id:"_3-5-proxychains",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_3-5-proxychains","aria-hidden":"true"},"#"),a(" 3.5 proxychains")],-1),V={href:"https://rocyan.top/posts/others/server-proxy.html",target:"_blank",rel:"noopener noreferrer"},C=e("h3",{id:"_3-6-smb",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_3-6-smb","aria-hidden":"true"},"#"),a(" 3.6 SMB")],-1),R={href:"https://blog.csdn.net/qq_41975640/article/details/128568428",target:"_blank",rel:"noopener noreferrer"},A=e("h3",{id:"_3-7-barrier",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_3-7-barrier","aria-hidden":"true"},"#"),a(" 3.7 Barrier")],-1),M={href:"https://blog.csdn.net/zc15210073939/article/details/136685526",target:"_blank",rel:"noopener noreferrer"},Z=e("h3",{id:"_3-8-gateway",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_3-8-gateway","aria-hidden":"true"},"#"),a(" 3.8 Gateway")],-1),W={href:"https://www.jetbrains.com.cn/en-us/remote-development/gateway/",target:"_blank",rel:"noopener noreferrer"},$=e("h3",{id:"_3-9-开机自动启动",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_3-9-开机自动启动","aria-hidden":"true"},"#"),a(" 3.9 开机自动启动")],-1),j={href:"https://blog.csdn.net/t624124600/article/details/111085234",target:"_blank",rel:"noopener noreferrer"},G=r(`<h2 id="_4-挂载新硬盘" tabindex="-1"><a class="header-anchor" href="#_4-挂载新硬盘" aria-hidden="true">#</a> 4 挂载新硬盘</h2><h3 id="_4-1-查找硬盘" tabindex="-1"><a class="header-anchor" href="#_4-1-查找硬盘" aria-hidden="true">#</a> 4.1 查找硬盘</h3><p>通过 <code>df -h</code> 命令可以查看已挂载硬盘，ubuntu 可能会自动把硬盘挂载到 <code>/media</code> 下。</p><p>再通过 <code>lsblk -f</code> 命令查看所有硬盘信息，两边比对一下就能找到新硬盘的名字，比如我找到的硬盘名字叫 nvme1n1，那硬盘的位置就在 <code>/dev/nvme1n1</code>。</p><h3 id="_4-2-格式化硬盘" tabindex="-1"><a class="header-anchor" href="#_4-2-格式化硬盘" aria-hidden="true">#</a> 4.2 格式化硬盘</h3><p>新的硬盘一般需要格式化，如果已经格式化过的可以跳过这一步。也可以对硬盘进行分区，这里跳过分区的步骤。</p><p>linux 默认支持的格式是 ext4：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">mkfs</span> <span class="token parameter variable">-t</span> ext4 /dev/nvme1n1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如果想要与 mac 兼容可以格式化为 exfat 格式：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">mkfs</span> <span class="token parameter variable">-t</span> exfat /dev/nvme1n1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>格式化为 exfat 格式的时候可能会报错 mkfs: failed to execute mkfs.exfat: No such file or directory，这是因为不支持 exfat 格式， <code>sudo apt-get install exfat-fuse</code> 安装 exfat-fuse 即可。</p><h3 id="_4-3-临时挂载硬盘" tabindex="-1"><a class="header-anchor" href="#_4-3-临时挂载硬盘" aria-hidden="true">#</a> 4.3 临时挂载硬盘</h3><p>需要新建一个文件夹作为挂载点，并挂载:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">mkdir</span> ~/data
<span class="token function">sudo</span> <span class="token function">mount</span> /dev/nvme1n1 ~/data
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>如果想要卸载可以 <code>sudo umount ~/data</code> 即可。</p><p>由于 exFAT 本身没有权限，需要在挂载时<strong>强制设置所有文件的权限</strong>：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">mount</span> <span class="token parameter variable">-o</span> <span class="token assign-left variable">uid</span><span class="token operator">=</span><span class="token number">1000</span>,gid<span class="token operator">=</span><span class="token number">1000</span>,fmask<span class="token operator">=</span><span class="token number">133</span>,dmask<span class="token operator">=</span>022 /dev/nvme1n1 ~/data
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><strong><code>uid=1000</code></strong>：设置默认用户（用 <code>id -u</code> 查你的用户ID）。</li><li><strong><code>gid=1000</code></strong>：设置默认组（用 <code>id -g</code> 查你的组ID）。</li><li><strong><code>fmask=133</code></strong>： <ul><li>文件权限 <code>133</code> = <code>644</code>（<code>rw-r--r--</code>），即用户可读写，其他人只读。</li></ul></li><li><strong><code>dmask=022</code></strong>： <ul><li>目录权限 <code>022</code> = <code>755</code>（<code>rwxr-xr-x</code>），即用户可读写执行，其他人只读和执行。</li></ul></li></ul><h3 id="_4-4-开机自动挂载" tabindex="-1"><a class="header-anchor" href="#_4-4-开机自动挂载" aria-hidden="true">#</a> 4.4 开机自动挂载</h3><p>临时挂载重启后还是需要重新挂载，如果想要自动挂载：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>blkid /dev/nvme1n1 <span class="token comment">#找到硬盘的 UUID</span>
<span class="token function">sudo</span> <span class="token function">vim</span> /etc/fstab <span class="token comment">#修改 fstab 文件</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>在 <code> /etc/fstab</code> 文件的末尾加入：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token assign-left variable">UUID</span><span class="token operator">=</span>xxx /home/yan/data exfat defaults <span class="token number">0</span> <span class="token number">2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>第一个参数就是 UUID</li><li>第二个参数是要挂载的位置</li><li>第三个参数是磁盘的 TYPE</li><li>第四个参数是挂载的选项，直接 defaults 就好</li><li>第五个参数是 dump 备份设置，1 允许 dump 备份，0 忽略备份</li><li>第六个参数是 fsck 磁盘检查设置：其值是一个顺序。当其值为 0 时，永远不检查；而 / 根目录分区永远都为1。其它分区从 2 开始，数字越小越先检查，如果两个分区的数字相同，则同时检查。</li></ul><p>同理如果是 exFAT 也需要设置文件的权限：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token assign-left variable">UUID</span><span class="token operator">=</span>xxx /home/yan/data exfat defaults,uid<span class="token operator">=</span><span class="token number">1000</span>,gid<span class="token operator">=</span><span class="token number">1000</span>,fmask<span class="token operator">=</span><span class="token number">133</span>,dmask<span class="token operator">=</span>022 <span class="token number">0</span> <span class="token number">2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如果 <code> /etc/fstab</code> 写错了是会导致开机就进入紧急模式无法进入图形化界面，这时候把文件末尾加的这个删掉就好。</p><h2 id="reference" tabindex="-1"><a class="header-anchor" href="#reference" aria-hidden="true">#</a> Reference：</h2>`,28),J={href:"https://blog.csdn.net/wyr1849089774/article/details/133387874",target:"_blank",rel:"noopener noreferrer"},P={href:"https://www.disktool.cn/content-center/how-to-delete-a-recovery-partition-631.html",target:"_blank",rel:"noopener noreferrer"},Y={href:"https://blog.csdn.net/NRWHF/article/details/129628713",target:"_blank",rel:"noopener noreferrer"},K={href:"https://blog.csdn.net/m0_47406832/article/details/126447106",target:"_blank",rel:"noopener noreferrer"},O={href:"https://blog.csdn.net/qq_41975640/article/details/128568428",target:"_blank",rel:"noopener noreferrer"},Q={href:"https://blog.csdn.net/zc15210073939/article/details/136685526",target:"_blank",rel:"noopener noreferrer"},X={href:"https://blog.csdn.net/t624124600/article/details/111085234",target:"_blank",rel:"noopener noreferrer"},ee={href:"https://www.cnblogs.com/luoguoguo/p/18554122",target:"_blank",rel:"noopener noreferrer"},ae={href:"https://www.cnblogs.com/luoguoguo/p/18554122",target:"_blank",rel:"noopener noreferrer"},ne={href:"https://blog.csdn.net/Terminal_wen/article/details/128088973",target:"_blank",rel:"noopener noreferrer"};function se(re,te){const n=o("ExternalLinkIcon");return i(),d("div",null,[c,h,p,e("p",null,[a("直接参考"),e("a",u,[a("这篇文章"),s(n)]),a("，主要分为以下 3 步。")]),b,e("p",null,[a("制作启动盘也可以考虑用 "),e("a",_,[a("Rufus"),s(n)]),a("。")]),m,f,e("p",null,[a("在合并 windows 分区的时候，可能会遇到恢复分区，删除恢复分区看"),e("a",v,[a("这篇文章"),s(n)]),a("。")]),g,e("p",null,[a("插上实验室的网线之后可能需要去网络认证一下，网址是 "),e("a",k,[a("http://10.250.3.66"),s(n)]),a("，如果没法上网的话去认证一下。因为校园网的 ip 基本上不会改变，也就不需要弄静态 ip，直接用就好了。")]),x,e("p",null,[a("直接下载"),e("a",w,[a("向日葵"),s(n)]),a("，这种方式最简单。")]),y,e("p",null,[a("安装 ZSH，里面有很多插件都很好用，安装和配置直接看"),e("a",z,[a("这篇文章"),s(n)]),a("。默认使用 ZSH 输入这个命令 "),S,a("。")]),U,e("p",null,[a("我喜欢用 homebrew 来安装和管理软件，如果你对这个不了解，建议还是用系统自带的 apt 就好。可以看 homebrew "),e("a",H,[a("官网"),s(n)]),a("的简介并进行安装，或者跟着如下步骤安装：")]),I,e("p",null,[a("虽然 clash 已经删库跑路了，但是还是可以下载"),e("a",N,[a("备份"),s(n)]),a("，下载解压之后进入文件夹执行 "),D,a(" 命令，配置好 clash，配置的过程买 vpn 的地方应该都有教学。")]),q,B,L,e("p",null,[a("如果觉得每次都要输入 "),E,a(" 太麻烦，可以参考"),e("a",F,[a("这篇文章"),s(n)]),a("来创建图标。")]),T,e("p",null,[a("虽然配置好了 clash，但是你在终端还是没法进行代理访问，除了每次都输入一下终端代理命令外，还可以用 proxychains，在需要代理的指令前加上 proxychains 就行。下载和配置过程可以参考我之前的"),e("a",V,[a("服务器代理"),s(n)]),a("的文章。")]),C,e("p",null,[a("可以直接把 ubuntu 上的文件挂载到本地，这样上传下载文件不再需要用 scp 或者 sftp，可以参考"),e("a",R,[a("这篇文章"),s(n)]),a("。")]),A,e("p",null,[a("可以让 ubuntu、macos 和 windows 之间共享一套键鼠和剪贴板，这个真的巨好用，就是网络不好的时候没有那么流畅，参考"),e("a",M,[a("这篇文章"),s(n)]),a("。")]),Z,e("p",null,[a("在写远程主机或者服务器上的代码时，除了 vscode，还可以考虑用 "),e("a",W,[a("gateway"),s(n)]),a("，不过还是 beta 版本，可能有些不稳定，但是如果你习惯用 pycharm 的话，这个真的更好用。当然这个是在你本地电脑上下载，不是在 ubuntu 上下载。")]),$,e("p",null,[a("参考"),e("a",j,[a("这篇文章"),s(n)]),a("。")]),G,e("p",null,[e("a",J,[a("Ubuntu20.04双系统安装详解"),s(n)])]),e("p",null,[e("a",P,[a("恢复分区怎么删除？这样做轻松删除！"),s(n)])]),e("p",null,[e("a",Y,[a("Ubuntu安装zsh"),s(n)])]),e("p",null,[e("a",K,[a("Linux 创建桌面图标"),s(n)])]),e("p",null,[e("a",O,[a("ubuntu挂载samba"),s(n)])]),e("p",null,[e("a",Q,[a("使用Barrier共享鼠标键盘，通过macos控制ubuntu系统"),s(n)])]),e("p",null,[e("a",X,[a("ubuntu18.04设置开机启动命令/脚本的三种方法（可sudo）"),s(n)])]),e("p",null,[a("["),e("a",ee,[a("Ubuntu-22.04 挂载磁盘"),s(n)]),a("]("),e("a",ae,[a("https://www.cnblogs.com/luoguoguo/p/18554122"),s(n)]),a(")")]),e("p",null,[e("a",ne,[a("Ubuntu 系统不支持exFat文件系统的移动存储介质直接挂载"),s(n)])])])}const ie=t(l,[["render",se],["__file","ubuntu-install.html.vue"]]);export{ie as default};
